{
  "info": {
    "name": "Leave Management",
    "_postman_id": "d2d8e6c1-3ff2-4a3f-9c2f-1e2d3c4b5a6f",
    "description": "Leave management APIs: types, policies, holidays, requests, balances",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8080" },
    { "key": "typeId", "value": "00000000-0000-0000-0000-000000001001" },
    { "key": "policyId", "value": "00000000-0000-0000-0000-000000001002" },
    { "key": "holidayId", "value": "00000000-0000-0000-0000-000000001003" },
    { "key": "requestId", "value": "00000000-0000-0000-0000-000000001004" },
    { "key": "employeeId", "value": "00000000-0000-0000-0000-000000001005" }
  ],
  "item": [
    {
      "name": "Leave Types",
      "item": [
        {
          "name": "List Leave Types",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/types",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "types"]
            }
          }
        },
        {
          "name": "Create Leave Type",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name_en\": \"Annual\",\n  \"name_ar\": \"سنوي\",\n  \"annual_days\": 30,\n  \"is_paid\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/types",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "types"]
            }
          }
        },
        {
          "name": "Get Leave Type",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/types/{{typeId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "types", "{{typeId}}"]
            }
          }
        },
        {
          "name": "Update Leave Type",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"annual_days\": 36\n}" },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/types/{{typeId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "types", "{{typeId}}"]
            }
          }
        },
        {
          "name": "Delete Leave Type",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/types/{{typeId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "types", "{{typeId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Policies",
      "item": [
        {
          "name": "List Policies",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/policies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "policies"]
            }
          }
        },
        {
          "name": "Create Policy",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"leave_type_id\": \"{{typeId}}\",\n  \"applies_after_days\": 90,\n  \"accrual_rate_per_month\": 2,\n  \"max_accrual\": 60\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/policies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "policies"]
            }
          }
        },
        {
          "name": "Get Policy",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/policies/{{policyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "policies", "{{policyId}}"]
            }
          }
        },
        {
          "name": "Update Policy",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"max_accrual\": 72\n}" },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/policies/{{policyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "policies", "{{policyId}}"]
            }
          }
        },
        {
          "name": "Delete Policy",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/policies/{{policyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "policies", "{{policyId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Public Holidays",
      "item": [
        {
          "name": "List Holidays",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/holidays",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "holidays"]
            }
          }
        },
        {
          "name": "Create Holiday",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name_en\": \"Eid Al-Fitr\",\n  \"name_ar\": \"عيد الفطر\",\n  \"date\": \"2025-04-01\",\n  \"is_recurring\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/holidays",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "holidays"]
            }
          }
        },
        {
          "name": "Get Holiday",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/holidays/{{holidayId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "holidays", "{{holidayId}}"]
            }
          }
        },
        {
          "name": "Update Holiday",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name_en\": \"Eid Al-Fitr (Updated)\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/holidays/{{holidayId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "holidays", "{{holidayId}}"]
            }
          }
        },
        {
          "name": "Delete Holiday",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/holidays/{{holidayId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "holidays", "{{holidayId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Leave Requests",
      "item": [
        {
          "name": "List Leave Requests",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests?page=1&page_size=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "page_size", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Create Leave Request",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"employee_id\": \"{{employeeId}}\",\n  \"leave_type_id\": \"{{typeId}}\",\n  \"start_date\": \"2025-02-01\",\n  \"end_date\": \"2025-02-07\",\n  \"reason\": \"Vacation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests"]
            }
          }
        },
        {
          "name": "Get Leave Request",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests/{{requestId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests", "{{requestId}}"]
            }
          }
        },
        {
          "name": "Update Leave Request",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"reason\": \"Medical\"\n}" },
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests/{{requestId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests", "{{requestId}}"]
            }
          }
        },
        {
          "name": "Approve Leave Request",
          "request": {
            "method": "PUT",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests/{{requestId}}/approve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests", "{{requestId}}", "approve"]
            }
          }
        },
        {
          "name": "Reject Leave Request",
          "request": {
            "method": "PUT",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests/{{requestId}}/reject",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests", "{{requestId}}", "reject"]
            }
          }
        },
        {
          "name": "Cancel Leave Request",
          "request": {
            "method": "PUT",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/requests/{{requestId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "requests", "{{requestId}}", "cancel"]
            }
          }
        }
      ]
    },
    {
      "name": "Leave Balances",
      "item": [
        {
          "name": "Get Leave Balance",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/leaves/balances?employee_id={{employeeId}}&year=2025",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leaves", "balances"],
              "query": [
                { "key": "employee_id", "value": "{{employeeId}}" },
                { "key": "year", "value": "2025" }
              ]
            }
          }
        }
      ]
    }
  ]
}
